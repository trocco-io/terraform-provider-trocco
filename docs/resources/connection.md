---
page_title: "trocco_connection Resource - trocco"
subcategory: ""
description: |-
  Provides a TROCCO connection resource.
---

# trocco_connection (Resource)

Provides a TROCCO connection resource.

## Example Usage

### Bigquery

```terraform
resource "trocco_connection" "bigquery" {
  connection_type = "bigquery"

  name        = "BigQuery Example"
  description = "This is a BigQuery connection example"

  project_id               = "example"
  service_account_json_key = <<JSON
  {
    "type": "service_account",
    "project_id": "example-project-id",
    "private_key_id": "example-private-key-id",
    "private_key":"-----BEGIN PRIVATE KEY-----\n..."
  }
  JSON
}
```

### Snowflake

```terraform
resource "trocco_connection" "snowflake" {
  connection_type = "snowflake"

  name        = "Snowflake Example"
  description = "This is a Snowflake connection example"

  host        = "exmaple.snowflakecomputing.com"
  auth_method = "user_password"
  user_name   = "<User Name>"
  password    = "<Password>"
}
```

### Google Cloud Storage(GCS)

```terraform
resource "trocco_connection" "gcs" {
  connection_type = "gcs"

  name        = "GCS Example"
  description = "This is a Google Cloud Storage(GCS) connection example"

  project_id               = "example-project-id"
  service_account_json_key = <<JSON
  {
    "type": "service_account",
    "project_id": "example-project-id",
    "private_key_id": "example-private-key-id",
    "private_key":"-----BEGIN PRIVATE KEY-----\n..."
  }
  JSON
  service_account_email    = "joe@example-project.iam.gserviceaccount.com"
  application_name         = "example-application-name"
}
```

### MySQL

```terraform
resource "trocco_connection" "mysql" {
  connection_type = "mysql"
  name            = "MySQL Example"
  description     = "This is a MySQL connection example"
  host            = "db.example.com"
  port            = 65535
  user_name       = "root"
  password        = "password"
  ssl = {
    ca   = <<-SSL_CA
      -----BEGIN PRIVATE KEY-----
      ...SSL CA...
      -----END PRIVATE KEY-----
    SSL_CA
    cert = <<-SSL_CERT
      -----BEGIN CERTIFICATE-----
      ...SSL CRT...
      -----END CERTIFICATE-----
    SSL_CERT
    key  = <<-SSL_KEY
      -----BEGIN PRIVATE KEY-----
      ...SSL KEY...
      -----END PRIVATE KEY-----
    SSL_KEY
  }
  gateway = {
    host           = "gateway.example.com"
    port           = 1234
    user_name      = "gateway-joe"
    password       = "gateway-joepass"
    key            = <<-GATEWAY_KEY
      -----BEGIN PRIVATE KEY-----
      ... GATEWAY KEY...
      -----END PRIVATE KEY-----
    GATEWAY_KEY
    key_passphrase = "sample_passphrase"
  }
  resource_group_id = 1
}
```

### S3

```terraform
resource "trocco_connection" "s3" {
  connection_type = "s3"

  name        = "S3 Example"
  description = "This is a AWS S3 connection example"

  aws_auth_type = "iam_user"
  aws_iam_user = {
    access_key_id     = "YOUR_ACCESS_KEY_ID"
    secret_access_key = "YOUR_SECRET_ACCESS_KEY"
  }
}

resource "trocco_connection" "s3_with_assume_role" {
  connection_type = "s3"

  name        = "S3 Example"
  description = "This is a AWS S3 connection example"

  aws_auth_type = "assume_role"
  aws_assume_role = {
    account_id = "123456789012"
    role_name  = "YOUR_ROLE_NAME"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `connection_type` (String) The type of the connection. It must be one of `bigquery`, `snowflake`, `gcs`, `mysql`, `s3`, or `postgresql`.
- `name` (String) The name of the connection.

### Optional

- `application_name` (String) GCS: Application name.
- `auth_method` (String) Snowflake: The authentication method for the Snowflake user. It must be one of `key_pair` or `user_password`.
- `aws_assume_role` (Attributes) S3: AssumeRole configuration. (see [below for nested schema](#nestedatt--aws_assume_role))
- `aws_auth_type` (String) S3: The authentication type for the S3 connection. It must be one of `iam_user` or `assume_role`.
- `aws_iam_user` (Attributes) S3: IAM User configuration. (see [below for nested schema](#nestedatt--aws_iam_user))
- `description` (String) The description of the connection.
- `gateway` (Attributes) MySQL, PostgreSQL: Whether to connect via SSH (see [below for nested schema](#nestedatt--gateway))
- `host` (String) Snowflake, PostgreSQL: The host of a (Snowflake, PostgreSQL) account.
- `password` (String, Sensitive) Snowflake, PostgreSQL: The password for the (Snowflake, PostgreSQL) user.
- `port` (Number) MySQL, PostgreSQL: The port of the database server (MySQL or PostgreSQL).
- `private_key` (String, Sensitive) Snowflake: A private key for the Snowflake user.
- `project_id` (String) BigQuery, GCS: A GCP project ID.
- `resource_group_id` (Number) The ID of the resource group the connection belongs to.
- `role` (String) Snowflake: A role attached to the Snowflake user.
- `service_account_email` (String, Sensitive) GCS: A GCP service account email.
- `service_account_json_key` (String, Sensitive) BigQuery: A GCP service account key.
- `ssl` (Attributes) MySQL, PostgreSQL: SSL configuration. (see [below for nested schema](#nestedatt--ssl))
- `user_name` (String) Snowflake, PostgreSQL: The name of a (Snowflake, PostgreSQL) user.
- `ssl_mode` (String) PostgreSQL: Defines the SSL connection mode. Possible values are `required`, `verify-ca`, or `nil`.
- `driver` (String) PostgreSQL: The name of a PostgreSQL driver. Possible values are `postgresql_42_5_1`, `postgresql_9_4_1205_jdbc41`, or `nil`.

### Read-Only

- `id` (Number) The ID of the connection.

<a id="nestedatt--aws_assume_role"></a>
### Nested Schema for `aws_assume_role`

Optional:

- `account_id` (String) S3: The account ID for the AssumeRole configuration.
- `role_name` (String) S3: The account role name for the AssumeRole configuration.


<a id="nestedatt--aws_iam_user"></a>
### Nested Schema for `aws_iam_user`

Optional:

- `access_key_id` (String) S3: The access key ID for the S3 connection.
- `secret_access_key` (String, Sensitive) S3: The secret access key for the S3 connection.


<a id="nestedatt--gateway"></a>
### Nested Schema for `gateway`

Optional:

- `host` (String, Sensitive) MySQL, PostgreSQL: SSH Host
- `key` (String, Sensitive) MySQL, PostgreSQL: SSH Private Key
- `key_passphrase` (String, Sensitive) MySQL, PostgreSQL: SSH Private Key Passphrase
- `password` (String, Sensitive) MySQL, PostgreSQL: SSH Password
- `port` (Number, Sensitive) MySQL, PostgreSQL: SSH Port
- `user_name` (String, Sensitive) MySQL, PostgreSQL: SSH User


<a id="nestedatt--ssl"></a>
### Nested Schema for `ssl`

Optional:

- `ca` (String, Sensitive) MySQL, PostgreSQL: CA certificate
- `cert` (String, Sensitive) MySQL, PostgreSQL: Certificate (CRT file)
- `key` (String, Sensitive) MySQL: Key (KEY file)




## Import

Import is supported using the following syntax:

```shell
terraform import trocco_connection.example <connection_type>,<id>
```
